(this["webpackJsonpgcc-admin-app"]=this["webpackJsonpgcc-admin-app"]||[]).push([[0],{251:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},336:function(e,t,a){},337:function(e,t,a){},338:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},428:function(e,t,a){},429:function(e,t,a){},433:function(e,t,a){},434:function(e,t,a){},435:function(e,t,a){},436:function(e,t,a){},437:function(e,t,a){},438:function(e,t,a){},439:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){},442:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(36),s=a.n(r),i=(a(251),a(25)),o=a(31),u=(a(252),a(253),a(254),a(444)),d=a(445),l=a(24),j=a.n(l),b=a(33),h=a(13),m=a(238),O=a(446),p=a(448),f=a(453),x=a(60),v=a(231),g=a(456),y=a(457),w=(a(255),"data:image/png;base64,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"),A=a(20),N=a(227),I=a.n(N),D=a(152),k=(a(81),a(272),a(273),D.a.initializeApp({apiKey:"AIzaSyC3OmuSt1ab_igHTxgWnzPhZXdAqiuOVco",authDomain:"my-project-1545051214681.firebaseapp.com",projectId:"my-project-1545051214681",storageBucket:"my-project-1545051214681.appspot.com",messagingSenderId:"918446367631",appId:"1:918446367631:web:200350580541457c8d21fa",measurementId:"G-PBJ8KSVMQ8"})),S=k.auth(),C=D.a.firestore(),M=(k.storage().ref(),D.a,a(3)),P=Object(c.createContext)(),q=function(){return Object(c.useContext)(P)};var B=function(e){var t=e.children,a=Object(c.useState)(""),n=Object(h.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(null),o=Object(h.a)(i,2),u=o[0],d=o[1],l=Object(c.useState)(!0),j=Object(h.a)(l,2),b=(j[0],j[1]),m=Object(c.useState)(""),O=Object(h.a)(m,2),p=O[0],f=O[1];Object(c.useEffect)((function(){return S.onAuthStateChanged((function(e){e?S.currentUser.getIdTokenResult().then((function(t){C.collection("users").where("email","==",e.email).get().then((function(e){e.forEach((function(e){d(Object(A.a)(Object(A.a)({},e.data()),{},{id:e.id})),s(t),b(!1)}))}))})):(s(null),b(!1))}))}),[]);var x={register:function(e){var t=Object.assign({},e);return I.a.post("https://asia-northeast1-my-project-1545051214681.cloudfunctions.net/api/signUp",t).then((function(e){console.log(t),S.signInWithEmailAndPassword(t.email,t.password)})).catch((function(e){return f(e)}))},login:function(e,t){return S.signInWithEmailAndPassword(e,t)},currentUser:r,activeUser:u,forgotPassword:function(e,t){return S.sendPasswordResetEmail(e,{url:t})},logout:function(){return S.signOut()},error:p,setActiveUser:d};return Object(M.jsx)(P.Provider,{value:x,children:t})},U=function(){var e=q(),t=e.currentUser,a=e.login,n=Object(c.useState)(!1),r=Object(h.a)(n,2),s=r[0],u=r[1],d=Object(o.g)(),l=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,a(t.email,t.password);case 4:u(!1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),m.b.error(e.t0),u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return t&&null!==t&&d.push("/dashboard"),function(){u(!1)}}),[t]),Object(M.jsxs)(O.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:l,children:[Object(M.jsx)(i.b,{to:"/",children:Object(M.jsx)("img",{src:w,alt:"Vic Uni Student Record Management",className:"logo"})}),Object(M.jsx)("h2",{children:"Login"}),Object(M.jsx)(O.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"Please input your email address!"}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(M.jsx)(O.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(M.jsxs)(O.a.Item,{children:[Object(M.jsx)(O.a.Item,{name:"remember",valuePropName:"checked",noStyle:!0,children:Object(M.jsx)(f.a,{children:"Remember me"})}),Object(M.jsx)(i.b,{className:"login-form-forgot",to:"/forgot-password",children:"Forgot password?"})]}),Object(M.jsxs)(O.a.Item,{children:[Object(M.jsxs)(x.a,{htmlType:"submit",className:"login-form-button bg-dark",children:[s?Object(M.jsx)(v.a,{style:{color:"white"}}):null,"Log in"]}),Object(M.jsxs)("p",{style:{textAlign:"center",paddingTop:"10px"},children:["Don't have an account?",Object(M.jsxs)(i.b,{style:{textAlign:"center",paddingTop:"10px"},to:"/register",children:[" ","Sign Up"]})]})]})]})},H=a(106),R=a(458),T=a(459),E=a(245),F=(a(336),a(243)),G=H.a.Option,L=function(){var e=q(),t=e.register,a=e.currentUser,n=e.error,r=Object(c.useState)(!1),s=Object(h.a)(r,2),u=s[0],d=s[1],l=Object(c.useState)(""),f=Object(h.a)(l,2),A=f[0],N=f[1],I=Object(o.g)(),D=function(){var e=Object(b.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(a),e.prev=1,d(!0),e.next=5,t(a);case 5:d(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),m.b.error(e.t0),d(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){return a&&null!==a&&I.push("/dashboard"),function(){d(!1)}}),[a]),Object(c.useEffect)((function(){var e;return""!==n&&(console.log(n),e=n,F.a.open({message:"Sign Up Failed",description:"Cannot Register. "+e,onClick:function(){console.log("Notification Clicked!")}})),function(){d(!1)}}),[n]),Object(M.jsxs)(O.a,{name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:D,children:[Object(M.jsx)(i.b,{to:"/",children:Object(M.jsx)("img",{src:w,alt:"Vic Uni Student Record Management",className:"logo"})}),Object(M.jsx)("h2",{children:"Register"}),Object(M.jsx)(O.a.Item,{name:"name",rules:[{required:!0}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(R.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(M.jsx)(O.a.Item,{name:"email",rules:[{required:!0,type:"email",message:"Please input your email address!"}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Email"})}),Object(M.jsx)(O.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})}),Object(M.jsx)(O.a.Item,{name:"confirmPassword",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject(new Error("The two passwords that you entered do not match!")):Promise.resolve()}}}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(y.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Confirm Password"})}),Object(M.jsx)(O.a.Item,{name:"type",children:Object(M.jsxs)(H.a,{placeholder:"Select Role",onSelect:function(e){N(e)},children:[Object(M.jsx)(G,{value:"Student",children:"Student"}),Object(M.jsx)(G,{value:"Faculty",children:"Faculty"}),Object(M.jsx)(G,{value:"ThirdParty",children:"Third Party"})]})}),"Student"==A&&Object(M.jsx)(O.a.Item,{name:"studentDepartment",rules:[{required:!0}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Student Department"})}),"ThirdParty"==A&&Object(M.jsx)(O.a.Item,{name:"thirdPartyType",rules:[{required:!0}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(E.a,{className:"site-form-item-icon"}),placeholder:"Third Party Type"})}),Object(M.jsxs)(O.a.Item,{children:[Object(M.jsxs)(x.a,{htmlType:"submit",className:"login-form-button bg-dark",children:[u?Object(M.jsx)(v.a,{style:{color:"white"}}):null,"Register"]}),Object(M.jsxs)("p",{style:{textAlign:"center",paddingTop:"10px"},children:["Already have an account?"," ",Object(M.jsxs)(i.b,{style:{textAlign:"center",paddingTop:"10px"},to:"/",children:[" ","Sign In"]})]})]})]})},V=(a(337),function(e){return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"DASHBOARD"}),Object(M.jsx)("div",{className:"dashboardLanding",children:Object(M.jsx)("ul",{children:[{header:"Add Courses",slug:"add-course",visibility:"Faculty"},{header:"Edit Profile",slug:"edit-profile",visibility:"All"},{header:"View Wallet",slug:"view-wallet",visibility:"All"},{header:"Enrol Course",slug:"enrol",visibility:"Student"},{header:"Update Result",slug:"update-result",visibility:"Faculty"},{header:"Access Request",slug:"access-request",visibility:"ThirdParty"},{header:"View Requested Data",slug:"requested-data",visibility:"ThirdParty"},{header:"Grant Access",slug:"grant-access",visibility:"Student"}].map((function(e,t){var a=e.header,c=e.slug,n=e.visibility;return Object(M.jsx)(Q,{header:a,slug:c,visibility:n},t)}))})})]})}),W=(a(338),a(452)),Y=function(e){var t=e.isMobMenuVisible,a=e.showMobMenu,c=q().activeUser;return Object(M.jsxs)("div",{className:"sidebar",children:[Object(M.jsxs)("div",{className:"sidebar__menu",children:[Object(M.jsx)("div",{className:"sidebar__logo",children:Object(M.jsx)(i.c,{to:"/",children:Object(M.jsx)("img",{src:w,alt:"logo"})})}),Object(M.jsxs)("div",{className:"sidebar__tabs",children:["Faculty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/add-course",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Add Course"}),"ThirdParty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/requested-data",exact:!0,activeClassName:"sidebar__activeNavLink",children:"View Requested Data"}),"ThirdParty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/access-request",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Access Request"}),"Faculty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/update-result",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Update Result"}),"Student"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/enrol",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Enrol Course"}),"Student"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/grant-access",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Grant Access"}),Object(M.jsx)(i.c,{to:"/dashboard/view-wallet",activeClassName:"sidebar__activeNavLink",children:"View Wallet"}),Object(M.jsx)(i.c,{to:"/dashboard/edit-profile",activeClassName:"sidebar__activeNavLink",children:"Edit Profile"})]})]}),Object(M.jsxs)("div",{className:t?"sidebar__mobMenu sidebar__mobileMenuActive":"sidebar__mobMenu",children:[Object(M.jsx)("div",{className:"sidebar__mobMenuClose",children:Object(M.jsx)(W.a,{onClick:a})}),Object(M.jsx)("div",{className:"sidebar__logo",children:Object(M.jsx)(i.b,{to:"/",children:Object(M.jsx)("img",{src:w,alt:"logo"})})}),Object(M.jsxs)("div",{className:"sidebar__tabs",onClick:a,children:["Faculty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/add-course",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Add Course"}),"ThirdParty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/requested-data",exact:!0,activeClassName:"sidebar__activeNavLink",children:"View Requested Data"}),"ThirdParty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/access-request",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Access Request"}),"Faculty"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/update-result",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Update Result"}),"Student"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/enrol",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Enrol Course"}),"Student"==c.type&&Object(M.jsx)(i.c,{to:"/dashboard/grant-access",exact:!0,activeClassName:"sidebar__activeNavLink",children:"Grant Access"}),Object(M.jsx)(i.c,{to:"/dashboard/view-wallet",activeClassName:"sidebar__activeNavLink",children:"View Wallet"}),Object(M.jsx)(i.c,{to:"/dashboard/edit-profile",activeClassName:"sidebar__activeNavLink",children:"Edit Profile"})]})]})]})};a(339);var Q=function(e){var t=e.header,a=e.slug,c=e.visibility,n=q().activeUser;return Object(M.jsxs)(M.Fragment,{children:[console.log(c),("All"==c||c==n.type)&&Object(M.jsx)(i.b,{to:"/dashboard/".concat(a),children:Object(M.jsx)("li",{className:"dashItem",children:t})})]})},K=(a(340),a(455)),J=(a(341),function(e){var t=e.header,a=e.goBack,c=e.isNested,n=e.subtext;return Object(M.jsxs)("div",{className:"dashboardHeader",children:[Object(M.jsxs)("div",{className:"dashboardHeader__head",children:[c&&Object(M.jsx)("div",{className:"dashboardHeader__backBtn",children:Object(M.jsx)(x.a,{className:"bg-light",onClick:function(){return a()},children:Object(M.jsx)(K.a,{})})}),Object(M.jsx)("h1",{children:t}),n&&Object(M.jsxs)("p",{style:{fontSize:14,color:"green"},children:["\xa0\xa0\xa0\xa0(*",n,")"]})]}),Object(M.jsx)("div",{className:"dashboardHeader__btn",children:Object(M.jsx)(te,{})})]})}),Z=(a(428),a(449)),z=a(454),_=a(451),X=a(460),$=a(244),ee=a.p+"static/media/avatar.636974ea.png",te=function(){var e=q(),t=e.logout,a=e.currentUser,c=Object(o.g)(),n=Object(M.jsx)(Z.a,{children:Object(M.jsx)(Z.a.Item,{onClick:function(e){t().then((function(){return c.push("/")}))},icon:Object(M.jsx)(X.a,{}),children:"Logout"},"1")});return Object(M.jsx)("div",{className:"headerButton",children:Object(M.jsx)(z.a,{overlay:n,trigger:["click"],children:Object(M.jsxs)(x.a,{className:"bg-dark",children:[Object(M.jsx)(_.a,{src:ee,alt:"avatar",size:"large"}),a.claims.email.length>10?Object(M.jsxs)(M.Fragment,{children:[a.claims.email.substring(0,10),"..."]}):a.email,Object(M.jsx)($.a,{})]})})})},ae=a(62),ce=(a(429),a(54)),ne=function(e){var t=q(),a=t.activeUser,c=t.setActiveUser,n=O.a.useForm(),r=Object(h.a)(n,1)[0],s=function(){(function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="",e.next=4,C.collection("transactions").orderBy("createdAt","desc").limit(1).get().then((function(e){return e.empty?t="firstBlock":e.forEach((function(e){t=e.data().currHash})),t})).then((function(e){var t=i(32);o({operation:"addCourse",cost:1,docId:a.userId,prvHash:e,currHash:t})}));case 4:e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()},i=function(e){return Object(ae.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},o=function(e){var t=Date.now(),n=Math.floor(t/1e3),r=ce.a.firestore.FieldValue.increment(-1);C.collection("transactions").add(Object(A.a)(Object(A.a)({},e),{},{createdAt:n})).then((function(){C.collection("users").doc(a.userId).update({balance:r})}));var s=a-1;c(Object(A.a)(Object(A.a)({},a),{},{balance:s}))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"Add Course",subtext:"This operation carries a fees of 1 VUCoin.",goBack:e.history.goBack,isNested:!0}),Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsxs)(O.a,{name:"normal_login",className:"login-form",onFinish:function(e,t){var c={courseID:e.code,courseName:e.name};C.collection("courses").doc().set(c).then((function(){m.b.success("Course Added Successfully")})).catch((function(e){return m.b.error(e)})),console.log(a),C.collection("users").doc(a.userId).update({courses:ce.a.firestore.FieldValue.arrayUnion(e.code)}).then((function(){s()})),r.resetFields()},form:r,children:[Object(M.jsx)(O.a.Item,{name:"name",label:"Course Name",rules:[{required:!0,message:"Please input the course name!"}],children:Object(M.jsx)(p.a,{})}),Object(M.jsx)(O.a.Item,{name:"code",label:"Course Code",rules:[{required:!0,message:"Please input the course code!"}],children:Object(M.jsx)(p.a,{})}),Object(M.jsx)(O.a.Item,{children:Object(M.jsx)(x.a,{className:"bg-dark",htmlType:"submit",children:"Register Course"})})]})})]})},re=(a(433),function(){var e=O.a.useForm(),t=Object(h.a)(e,1)[0],a=q(),n=a.activeUser,r=a.setActiveUser;return Object(c.useEffect)((function(){console.log("setting field value"),t.setFieldsValue({name:n.name,email:n.email,userAddress:n.userAddress}),"Student"==n.type&&t.setFieldsValue({studentDepartment:n.studentDepartment}),"ThirdParty"==n.type&&t.setFieldsValue({thirdPartyType:n.thirdPartyType})}),[]),Object(M.jsxs)(O.a,{form:t,name:"normal_login",className:"login-form",initialValues:{remember:!0},onFinish:function(e){"Student"==n.type&&(C.collection("users").doc(n.userId).update({name:e.name,studentDepartment:e.studentDepartment}),r(Object(A.a)(Object(A.a)({},n),{},{name:e.name,studentDepartment:e.studentDepartment}))),"Faculty"==n.type&&(C.collection("users").doc(n.userId).update({name:e.name}),r(Object(A.a)(Object(A.a)({},n),{},{name:e.name}))),"ThirdParty"==n.type&&(C.collection("users").doc(n.userId).update({name:e.name,thirdPartyType:e.thirdPartyType}),r(Object(A.a)(Object(A.a)({},n),{},{name:e.name,thirdPartyType:e.thirdPartyType}))),m.b.success("Successfully Edited the Profile")},children:[Object(M.jsx)(i.b,{to:"/",children:Object(M.jsx)("img",{src:w,alt:"Vic Uni Student Record Management",className:"logo"})}),Object(M.jsx)("h2",{children:"EDIT PROFILE"}),Object(M.jsx)(O.a.Item,{name:"name",rules:[{required:!0}],initialValue:n.name,children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(R.a,{className:"site-form-item-icon"}),placeholder:"Name"})}),Object(M.jsx)(O.a.Item,{name:"email",initialValue:n.name,rules:[{required:!0,type:"email",message:"Please input your email address!"}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(g.a,{className:"site-form-item-icon"}),placeholder:"Email",disabled:!0})}),"Student"==n.type&&Object(M.jsx)(O.a.Item,{name:"studentDepartment",rules:[{required:!0}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(T.a,{className:"site-form-item-icon"}),placeholder:"Student Department"})}),"ThirdParty"==n.type&&Object(M.jsx)(O.a.Item,{name:"thirdPartyType",rules:[{required:!0}],children:Object(M.jsx)(p.a,{prefix:Object(M.jsx)(E.a,{className:"site-form-item-icon"}),placeholder:"Third Party Type"})}),Object(M.jsx)(O.a.Item,{children:Object(M.jsx)(x.a,{htmlType:"submit",className:"login-form-button bg-dark",children:"Confirm"})})]})}),se=(a(434),function(e){var t=q().activeUser;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"View Wallet",goBack:e.history.goBack,isNested:!0}),Object(M.jsxs)("div",{className:"add_course_container",children:["Your Balance is ",t.balance," VUCoin"]})]})}),ie=(a(435),H.a.Option),oe=H.a.setActiveUser,ue=function(e){var t=q().activeUser,a=O.a.useForm(),n=Object(h.a)(a,1)[0],r=Object(c.useState)([]),s=Object(h.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(!0),d=Object(h.a)(u,2),l=d[0],p=d[1];Object(c.useEffect)((function(){var e=[];return function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.collection("courses").get();case 3:t.sent.forEach((function(t){t.exists&&e.push(t.data().courseID)})),o(e),p(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){p(!0)}}),[]);var f=function(e){(function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="",t.next=4,C.collection("transactions").orderBy("createdAt","desc").limit(1).get().then((function(e){return e.empty?a="firstBlock":e.forEach((function(e){a=e.data().currHash})),a})).then((function(t){var a=g(32);y({operation:"enrolment",cost:1,docId:e,prvHash:t,currHash:a})}));case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()},g=function(e){return Object(ae.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},y=function(e){var a=Date.now(),c=Math.floor(a/1e3),n=ce.a.firestore.FieldValue.increment(-1);C.collection("transactions").add(Object(A.a)(Object(A.a)({},e),{},{createdAt:c})).then((function(){C.collection("users").doc(t.userId).update({balance:n})}));var r=t-1;oe(Object(A.a)(Object(A.a)({},t),{},{balance:r}))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"Enrol into a Course",subtext:"This operation carries a fees of 1 VUCoin.",goBack:e.history.goBack,isNested:!0}),l&&Object(M.jsx)(v.a,{}),!l&&Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsxs)(O.a,{name:"normal_login",className:"login-form",onFinish:function(e,a){var c=g(20);C.collection("enrolments").doc(c).set({studentId:t.userId,email:t.email,courseId:e.type,result:"NA"}).then((function(e){console.log(e),f(c),m.b.success("Enrolled Successfully")})).catch((function(e){return m.b.error(e)})),n.resetFields()},form:n,children:[Object(M.jsx)(O.a.Item,{name:"type",children:Object(M.jsx)(H.a,{placeholder:"Select Course",children:i.map((function(e){return Object(M.jsx)(ie,{value:e,children:e})}))})}),Object(M.jsx)(O.a.Item,{children:Object(M.jsx)(x.a,{className:"bg-dark",htmlType:"submit",children:"Enrol Course"})})]})})]})},de=function(){return Object(M.jsx)(u.a,{justify:"space-around",align:"middle",children:Object(M.jsx)(d.a,{xs:24,sm:24,md:12,lg:12,children:Object(M.jsx)(U,{})})})},le=(a(436),a(450)),je=a(447),be=(a(437),H.a.Option),he=function(e){var t=q(),a=t.activeUser,n=t.setActiveUser,r=O.a.useForm(),s=(Object(h.a)(r,1)[0],Object(c.useState)([])),i=Object(h.a)(s,2),o=i[0],u=i[1],d=Object(c.useState)([]),l=Object(h.a)(d,2),p=l[0],f=l[1],g=Object(c.useState)(!0),y=Object(h.a)(g,2),w=y[0],N=y[1],I=Object(c.useState)(!1),D=Object(h.a)(I,2),k=D[0],S=D[1],P=Object(c.useState)({}),B=Object(h.a)(P,2),U=B[0],R=B[1],T=Object(c.useState)("P"),E=Object(h.a)(T,2),F=E[0],G=E[1],L=Object(c.useState)(!1),V=Object(h.a)(L,2),W=V[0],Y=V[1],Q=function(e){(function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="",t.next=4,C.collection("transactions").orderBy("createdAt","desc").limit(1).get().then((function(e){return e.empty?a="firstBlock":e.forEach((function(e){a=e.data().currHash})),a})).then((function(t){var a=K(32);Z({operation:"updateResult",cost:1,docId:e,prvHash:t,currHash:a})}));case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()},K=function(e){return Object(ae.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},Z=function(e){var t=Date.now(),c=Math.floor(t/1e3),r=ce.a.firestore.FieldValue.increment(-1);C.collection("transactions").add(Object(A.a)(Object(A.a)({},e),{},{createdAt:c})).then((function(){C.collection("users").doc(a.userId).update({balance:r})}));var s=a-1;n(Object(A.a)(Object(A.a)({},a),{},{balance:s}))};Object(c.useEffect)((function(){return function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.collection("users").where("userId","==",a.userId).get();case 3:e.sent.forEach((function(e){e.exists&&u(e.data().courses)})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()(),function(){N(!0)}}),[]),Object(c.useEffect)((function(){var e=[];return function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.collection("enrolments").where("courseId","in",o).get();case 3:t.sent.forEach((function(t){t.exists&&e.push(t.data())})),f(e),N(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){N(!0)}}),[o,W]);var z=function(e){R(e),S(!0)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"Update Result",goBack:e.history.goBack,subtext:"This operation carries a fees of 1 VUCoin.",isNested:!0}),Object(M.jsxs)(le.a,{title:"Update Grade",visible:k,onOk:function(){Y(!0),function(){var e=Object(b.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(U.studentId),t="",e.next=5,C.collection("enrolments").where("studentId","==",U.studentId).where("courseId","==",U.courseId).get().then((function(e){return console.log("i am here",e),e.forEach((function(e){t=e.id})),t})).then((function(e){return console.log("Updating result for",e),C.collection("enrolments").doc(e).update({result:F}),Y(!1),m.b.info("Result Updated Successfully"),e})).then((function(e){Q(e)}));case 5:e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()(),S(!1)},onCancel:function(){S(!1)},children:[Object(M.jsx)(v.a,{spinning:W}),Object(M.jsxs)("p",{children:[" Student ID: ",U.studentId," \xa0\xa0\xa0\xa0"]}),Object(M.jsxs)("p",{children:["Course ID: ",U.courseId," \xa0\xa0\xa0\xa0"]}),Object(M.jsxs)("p",{children:["Result: ",U.result]}),Object(M.jsxs)("p",{children:["Grade: \xa0 \xa0 \xa0",Object(M.jsxs)(H.a,{defaultValue:"P",onChange:function(e){G(e)},children:[Object(M.jsx)(be,{value:"HD",children:"HD"}),Object(M.jsx)(be,{value:"D",children:"D"}),Object(M.jsx)(be,{value:"C",children:"C"}),Object(M.jsx)(be,{value:"P",children:"P"}),Object(M.jsx)(be,{value:"N",children:"N"})]})]})]}),w&&Object(M.jsx)(v.a,{}),!w&&Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsx)(je.b,{itemLayout:"horizontal",dataSource:p,renderItem:function(e){return Object(M.jsx)(je.b.Item,{actions:[Object(M.jsx)(x.a,{onClick:function(){return z(e)},children:"Update Grade"},"list-loadmore-edit")],children:Object(M.jsx)(je.b.Item.Meta,{avatar:Object(M.jsx)(_.a,{src:"https://joeschmoe.io/api/v1/joe"}),title:Object(M.jsx)("a",{children:e.email}),description:Object(M.jsxs)("a",{children:["Student ID: ",e.studentId," \xa0\xa0\xa0\xa0 Course ID: ",e.courseId," \xa0\xa0\xa0\xa0 Result: ",e.result]})})})}})})]})},me=(a(438),function(e){var t=q(),a=t.activeUser,n=t.setActiveUser,r=O.a.useForm(),s=Object(h.a)(r,1)[0],i=Object(c.useState)({}),o=Object(h.a)(i,2),u=o[0],d=o[1],l=Object(c.useState)(!1),f=Object(h.a)(l,2),v=f[0],g=f[1],y=new Date,w=function(e){(function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="",t.next=4,C.collection("transactions").orderBy("createdAt","desc").limit(1).get().then((function(e){return e.empty?a="firstBlock":e.forEach((function(e){a=e.data().currHash})),a})).then((function(t){var a=N(32);I({operation:"accessRequest",cost:1,docId:e,prvHash:t,currHash:a})}));case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()},N=function(e){return Object(ae.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},I=function(e){var t=Date.now(),c=Math.floor(t/1e3),r=ce.a.firestore.FieldValue.increment(-1);C.collection("transactions").add(Object(A.a)(Object(A.a)({},e),{},{createdAt:c})).then((function(){C.collection("users").doc(a.userId).update({balance:r})}));var s=a-1;n(Object(A.a)(Object(A.a)({},a),{},{balance:s}))};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"Access Request",subtext:"This operation carries a fees of 1 VUCoin.",goBack:e.history.goBack,isNested:!0}),Object(M.jsxs)(le.a,{title:"Access Request",visible:v,onOk:function(){!function(){var e=N(20);C.collection("requestedData").doc(e).set({requestedBy:a.userId,requestedData:u.userId,requestedAt:y,accessGranted:!1}).then((function(){m.b.success("Access to student record requested."),w(e)}))}(),g(!1)},onCancel:function(){g(!1)},children:[Object(M.jsxs)("p",{children:["Student Name: \xa0\xa0\xa0\xa0",u.name," "]}),Object(M.jsxs)("p",{children:["Email: \xa0\xa0\xa0\xa0",u.email]}),Object(M.jsxs)("p",{children:["Department: \xa0\xa0\xa0\xa0",u.studentDepartment]})]}),Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsxs)(O.a,{name:"normal_login",className:"login-form",onFinish:function(e,t){C.collection("users").doc(e.code).get().then((function(e){if(e.exists){if("Student"==e.data().type)return d(e.data()),e.data();m.b.error("No such student exists!!!")}else m.b.error("No such student exists!!!");return{}})).then((function(e){Object.keys(e).length>0?g(!0):console.log("No Keys")})).catch((function(e){return console.log(e)})),s.resetFields()},form:s,children:[Object(M.jsx)(O.a.Item,{name:"code",label:"Student ID",rules:[{required:!0,message:"Please enter the ID of student whose record you want to access."}],children:Object(M.jsx)(p.a,{})}),Object(M.jsx)(O.a.Item,{children:Object(M.jsx)(x.a,{className:"bg-dark",htmlType:"submit",children:"Find Student"})})]})})]})}),Oe=(a(439),a(461)),pe=a(462),fe=(H.a.Option,function(e){var t=q().activeUser,a=O.a.useForm(),n=(Object(h.a)(a,1)[0],Object(c.useState)([])),r=Object(h.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)([]),u=Object(h.a)(o,2),d=u[0],l=u[1],m=Object(c.useState)(!0),p=Object(h.a)(m,2),f=p[0],g=p[1],y=Object(c.useState)(!1),w=Object(h.a)(y,2),A=w[0],N=w[1],I=Object(c.useState)("P"),D=Object(h.a)(I,2),k=(D[0],D[1],Object(c.useState)(!1)),S=Object(h.a)(k,2),P=S[0];S[1];Object(c.useEffect)((function(){var e=[];return function(){var a=Object(b.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.collection("requestedData").where("requestedBy","==",t.userId).get();case 3:a.sent.forEach((function(t){t.exists&&e.push({reqData:t.data().requestedData,accessGranted:t.data().accessGranted,reqId:t.id})})),console.log(e),i(e),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}()(),function(){g(!0)}}),[]),Object(c.useEffect)((function(){var e=[];return function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.collection("users").where("userId","in",s).get();case 3:t.sent.forEach((function(t){t.exists&&e.push(t.data())})),l(e),g(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){g(!0)}}),[s,P]);var B=function(e){!function(e){var t=[];!function(){var a=Object(b.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C.collection("enrolments").where("studentId","==",e).get();case 3:a.sent.forEach((function(e){e.exists&&t.push({courseId:e.data().courseId,grade:e.data().result})})),l(t),g(!1),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(){return a.apply(this,arguments)}}()()}(e),N(!0)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"View Requested Data",goBack:e.history.goBack,isNested:!0}),Object(M.jsxs)(le.a,{title:"View Requested Data",visible:A,onOk:function(){N(!1)},onCancel:function(){N(!1)},children:[Object(M.jsx)(v.a,{spinning:P}),Object(M.jsx)(je.b,{itemLayout:"horizontal",dataSource:d,renderItem:function(e){return Object(M.jsx)(je.b.Item,{children:Object(M.jsx)(je.b.Item.Meta,{title:Object(M.jsxs)("a",{children:["Subject ID: ",e.courseId," \xa0\xa0\xa0\xa0 Grade: ",e.grade]})})})}})]}),f&&Object(M.jsx)(v.a,{}),!f&&Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsx)(je.b,{itemLayout:"horizontal",dataSource:s,renderItem:function(e){return Object(M.jsx)(je.b.Item,{actions:[Object(M.jsx)(x.a,{disabled:!e.accessGranted,onClick:function(){B(e.reqData)},children:"View Data"},"list-loadmore-edit")],children:Object(M.jsx)(je.b.Item.Meta,{avatar:Object(M.jsx)(_.a,{src:"https://joeschmoe.io/api/v1/joe"}),title:Object(M.jsxs)("a",{children:["Req ID: ",e.reqId]}),description:Object(M.jsxs)("a",{children:["Student ID: ",e.reqData," \xa0\xa0\xa0\xa0Access Granted:"," ",e.accessGranted?Object(M.jsx)(Oe.a,{twoToneColor:"#52c41a"}):Object(M.jsx)(pe.a,{twoToneColor:"#FF0000"})]})})})}})})]})}),xe=(a(440),function(e){var t=q(),a=t.activeUser,n=t.setActiveUser,r=Object(c.useState)([]),s=Object(h.a)(r,2),i=s[0],o=s[1],u=Object(c.useState)(!0),d=Object(h.a)(u,2),l=d[0],O=d[1],p=Object(c.useState)(!1),f=Object(h.a)(p,2),g=f[0],y=f[1],w=Object(c.useState)(""),N=Object(h.a)(w,2),I=N[0],D=N[1],k=Object(c.useState)(!0),S=Object(h.a)(k,2),P=S[0],B=S[1],U=function(e){(function(){var t=Object(b.a)(j.a.mark((function t(){var a;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a="",t.next=4,C.collection("transactions").orderBy("createdAt","desc").limit(1).get().then((function(e){return e.empty?a="firstBlock":e.forEach((function(e){a=e.data().currHash})),a})).then((function(t){var a=H(32);R({operation:"grantAccess",cost:1,docId:e,prvHash:t,currHash:a})}));case 4:t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}})()()},H=function(e){return Object(ae.a)(Array(e)).map((function(){return Math.floor(16*Math.random()).toString(16)})).join("")},R=function(e){var t=Date.now(),c=Math.floor(t/1e3),r=ce.a.firestore.FieldValue.increment(-1);C.collection("transactions").add(Object(A.a)(Object(A.a)({},e),{},{createdAt:c})).then((function(){C.collection("users").doc(a.userId).update({balance:r})}));var s=a-1;n(Object(A.a)(Object(A.a)({},a),{},{balance:s}))};Object(c.useEffect)((function(){var e=[];return function(){var t=Object(b.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C.collection("requestedData").where("requestedData","==",a.userId).get();case 3:t.sent.forEach((function(t){t.exists&&(console.log(Object(A.a)(Object(A.a)({},t.data()),{},{requestId:t.id})),e.push(Object(A.a)(Object(A.a)({},t.data()),{},{requestId:t.id})))})),o(e),O(!1),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()(),function(){O(!0)}}),[P]);var T=function(e){D(e),y(!0)};return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(J,{header:"Grant Access",subtext:"This operation carries a fees of 1 VUCoin.",goBack:e.history.goBack,isNested:!0}),Object(M.jsx)(le.a,{title:"Update Grade",visible:g,onOk:function(){!function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,C.collection("requestedData").doc(I.requestId).update({accessGranted:!0}).then((function(){B(!1),m.b.success("Successfully granted the request"),U(I.requestId)}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()(),y(!1)},onCancel:function(){y(!1)},children:Object(M.jsx)("p",{children:"Are you sure you want to grant access to this user?"})}),l&&Object(M.jsx)(v.a,{}),!l&&Object(M.jsx)("div",{className:"add_course_container",children:Object(M.jsx)(je.b,{itemLayout:"horizontal",dataSource:i,renderItem:function(e){return Object(M.jsx)(je.b.Item,{actions:[Object(M.jsx)(x.a,{disabled:e.accessGranted,onClick:function(){return T(e)},children:"Grant Access"},"list-loadmore-edit")],children:Object(M.jsx)(je.b.Item.Meta,{avatar:Object(M.jsx)(_.a,{src:"https://joeschmoe.io/api/v1/joe"}),title:Object(M.jsxs)("a",{children:["Requested On:",new Date(1e3*e.requestedAt.seconds).toLocaleDateString("en-US")]}),description:Object(M.jsxs)("a",{children:["Requested By: ",e.requestedBy," \xa0\xa0\xa0\xa0 Access Granted: ",e.accessGranted?"Yes":"No"," ","\xa0\xa0\xa0\xa0"]})})})}})})]})}),ve=function(){var e=Object(c.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1],r=function(){return n(!a)};return Object(M.jsxs)("div",{className:"dashboard",children:[Object(M.jsx)("div",{className:"dashboard__sidebar",children:Object(M.jsx)(Y,{isMobMenuVisible:a,showMobMenu:r})}),Object(M.jsxs)("div",{className:"dashboard__content",children:[Object(M.jsxs)("div",{className:"dashboard__header",children:[Object(M.jsx)("span",{className:"dashboard__mobMenuOpen",children:Object(M.jsx)(W.b,{onClick:r})}),Object(M.jsx)(te,{})]}),Object(M.jsxs)(o.d,{children:[Object(M.jsx)(o.b,{path:"/dashboard",component:V,exact:!0}),Object(M.jsx)(o.b,{path:"/dashboard/add-course",component:ne}),Object(M.jsx)(o.b,{path:"/dashboard/grant-access",component:xe}),Object(M.jsx)(o.b,{path:"/dashboard/edit-profile",component:re}),Object(M.jsx)(o.b,{path:"/dashboard/requested-data",component:fe}),Object(M.jsx)(o.b,{path:"/dashboard/view-wallet",component:se}),Object(M.jsx)(o.b,{path:"/dashboard/update-result",component:he}),Object(M.jsx)(o.b,{path:"/dashboard/access-request",component:me}),Object(M.jsx)(o.b,{path:"/dashboard/enrol",component:ue})]})]})]})},ge=(a(441),[{path:"/",component:de},{path:"/register",component:function(){return Object(M.jsx)(u.a,{justify:"space-around",align:"middle",children:Object(M.jsx)(d.a,{xs:24,sm:24,md:12,lg:12,children:Object(M.jsx)(L,{})})})}}]),ye=function(){return Object(M.jsx)(M.Fragment,{children:ge.map((function(e,t){return Object(M.jsx)(o.b,{exact:!0,path:e.path,component:e.component},t)}))})},we=a(242),Ae=function(e){var t=e.component,a=Object(we.a)(e,["component"]),c=q().currentUser;return Object(M.jsx)(o.b,Object(A.a)(Object(A.a)({},a),{},{render:function(e){return c?Object(M.jsx)(t,Object(A.a)({},e)):Object(M.jsx)(o.a,{to:"/"})}}))};var Ne=function(){return Object(M.jsx)(i.a,{children:Object(M.jsxs)(o.d,{children:[Object(M.jsx)(Ae,{path:"/dashboard",component:Object(o.h)(ve)}),Object(M.jsx)(o.b,{component:Object(o.h)((function(){return Object(M.jsx)("div",{className:"App",children:Object(M.jsx)(ye,{})})}))})]})})};s.a.render(Object(M.jsx)(n.a.StrictMode,{children:Object(M.jsx)(B,{children:Object(M.jsx)(Ne,{})})}),document.getElementById("root"))}},[[442,1,2]]]);
//# sourceMappingURL=main.ffeef2e7.chunk.js.map